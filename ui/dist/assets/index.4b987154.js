import{a as e}from"./index.2cf0d985.js";import{f as a,g as l,h as s,p as t,j as c,r as i,o,k as n,l as r,m as d,w as p,F as u,n as g,c as k,q as v,t as y}from"./vendor.7e9e41ae.js";var m=a({setup(a,t){e.defaults.headers.post["Content-Type"]="application/json";const c=l(""),i=l(""),o=l(""),n=()=>{var e=new Date,a=e.getHours(),l=e.getMinutes(),s=e.getSeconds();return`${a<10?"0"+a:a}:${l<10?"0"+l:l}:${s<10?"0"+s:s}`},r=s({apis:Array(),bridges:Array(),locks:Array()});localStorage.getItem("apis")&&(r.apis=JSON.parse(localStorage.getItem("apis"))),localStorage.getItem("bridges")&&(r.bridges=JSON.parse(localStorage.getItem("bridges"))),localStorage.getItem("locks")&&(r.locks=JSON.parse(localStorage.getItem("locks")));const d=l(""),p=l(""),u=l("");console.log(r);const g=()=>{const e=document.querySelector(".logs");return null!=e?e:new HTMLDivElement};return{saveKey:()=>{r.apis.push(c.value),localStorage.setItem("apis",JSON.stringify(r.apis))},saveBridge:()=>{r.bridges.push(i.value),localStorage.setItem("bridges",JSON.stringify(r.bridges))},saveLock:()=>{r.locks.push(o.value),localStorage.setItem("locks",JSON.stringify(r.locks))},apiKey:c,bridgeId:i,lockId:o,apiKeySelect:d,bridgeIdSelect:p,lockIdSelect:u,data:r,clearLogs:()=>{g().innerText=""},postLock:()=>{const a=n();e.post("/v1/api/lock",{apiKey:d.value,bridgeId:p.value,lockId:u.value,expiryDuration:"5"}).then((e=>{g().innerHTML=`<p class="time">Lock ${a}-${n()}</p>`+e.data+g().innerHTML})).catch((e=>{g().innerHTML=`<p class="time">Lock ${a}-${n()}</p><p style="color:red">${JSON.stringify(e)}</p>`+g().innerHTML}))},postUnlock:()=>{const a=n();e.post("/v1/api/unlock",{apiKey:d.value,bridgeId:p.value,lockId:u.value,expiryDuration:"5"}).then((e=>{g().innerHTML=`<p class="time">Unlock ${a}-${n()}</p>`+e.data+g().innerHTML})).catch((e=>{g().innerHTML=`<p class="time">Unlock ${a}-${n()}</p><p style="color:red">${JSON.stringify(e)}</p>`+g().innerHTML}))},postGetStatus:()=>{const a=n();e.post("/v1/api/getstatus",{apiKey:d.value,bridgeId:p.value,lockId:u.value,expiryDuration:"5"}).then((e=>{g().innerHTML=`<p class="time">GetStatus ${a}-${n()}</p>`+e.data+g().innerHTML})).catch((e=>{g().innerHTML=`<p class="time">GetStatus ${a}-${n()}</p><p style="color:red">${JSON.stringify(e)}</p>`+g().innerHTML}))},getBridgeLogs:()=>{const a=n();e.post("/v1/api/getbridgelogs",{apiKey:d.value,bridgeId:p.value}).then((e=>{g().innerHTML=`<p class="time">GetLogs ${a}-${n()}</p>`+e.data+g().innerHTML})).catch((e=>{g().innerHTML=`<p class="time">GetLogs ${a}-${n()}</p><p style="color:red">${JSON.stringify(e)}</p>`+g().innerHTML}))},addLock:()=>{const a=n();e.post("/v1/api/addlock",{apiKey:d.value,bridgeId:p.value,lockId:u.value}).then((e=>{g().innerHTML=`<p class="time">AddLock ${a}-${n()}</p>`+e.data+g().innerHTML})).catch((e=>{g().innerHTML=`<p class="time">AddLock ${a}-${n()}</p><p style="color:red">${JSON.stringify(e)}</p>`+g().innerHTML}))}}}});t("data-v-70654796");const L={class:"main"},S={class:"model"},I=v("添加 API Key"),f={class:"model"},$=v("添加 Bridge"),h={class:"model"},T=v("添加 Lock"),H={class:"model"},M={class:"model"},b={class:"model"},C={class:"model"},K=v("Lock"),_=v("Unlock"),J=v("GetStatus"),N=v("BridgeLogs"),O=v("绑定锁"),U=v("清理日志"),z={class:"logs",ref:"logs"};c(),m.render=function(e,a,l,s,t,c){const m=i("v-input"),V=i("v-btn"),G=i("v-radio");return o(),n("div",L,[r("div",S,[d(m,{class:"m-left",type:"success",value:e.apiKey,"onUpdate:value":a[0]||(a[0]=a=>e.apiKey=a)},null,8,["value"]),d(V,{class:"m-right",type:"success",size:"large",onClick:e.saveKey},{default:p((()=>[I])),_:1},8,["onClick"])]),r("div",f,[d(m,{class:"m-left",type:"pink",value:e.bridgeId,"onUpdate:value":a[1]||(a[1]=a=>e.bridgeId=a)},null,8,["value"]),d(V,{class:"m-right",type:"pink",size:"large",onClick:e.saveBridge},{default:p((()=>[$])),_:1},8,["onClick"])]),r("div",h,[d(m,{class:"m-left",type:"purple",value:e.lockId,"onUpdate:value":a[2]||(a[2]=a=>e.lockId=a)},null,8,["value"]),d(V,{class:"m-right",type:"purple",size:"large",onClick:e.saveLock},{default:p((()=>[T])),_:1},8,["onClick"])]),r("div",H,[(o(!0),n(u,null,g(e.data.apis,((l,s)=>(o(),k(G,{key:s,type:"success",value:l,checkedValue:e.apiKeySelect,"onUpdate:checkedValue":a[3]||(a[3]=a=>e.apiKeySelect=a)},{default:p((()=>[v(y(l),1)])),_:2},1032,["value","checkedValue"])))),128))]),r("div",M,[(o(!0),n(u,null,g(e.data.bridges,((l,s)=>(o(),k(G,{key:s,type:"pink",value:l,checkedValue:e.bridgeIdSelect,"onUpdate:checkedValue":a[4]||(a[4]=a=>e.bridgeIdSelect=a)},{default:p((()=>[v(y(l),1)])),_:2},1032,["value","checkedValue"])))),128))]),r("div",b,[(o(!0),n(u,null,g(e.data.locks,((l,s)=>(o(),k(G,{key:s,type:"purple",value:l,checkedValue:e.lockIdSelect,"onUpdate:checkedValue":a[5]||(a[5]=a=>e.lockIdSelect=a)},{default:p((()=>[v(y(l),1)])),_:2},1032,["value","checkedValue"])))),128))]),r("div",C,[d(V,{type:"primary",size:"large",onClick:e.postLock},{default:p((()=>[K])),_:1},8,["onClick"]),d(V,{type:"warn",size:"large",onClick:e.postUnlock},{default:p((()=>[_])),_:1},8,["onClick"]),d(V,{type:"success",size:"large",onClick:e.postGetStatus},{default:p((()=>[J])),_:1},8,["onClick"]),d(V,{type:"pink",size:"large",onClick:e.getBridgeLogs},{default:p((()=>[N])),_:1},8,["onClick"]),d(V,{type:"purple",size:"large",onClick:e.addLock},{default:p((()=>[O])),_:1},8,["onClick"]),d(V,{size:"large",onClick:e.clearLogs},{default:p((()=>[U])),_:1},8,["onClick"])]),r("div",z,null,512)])},m.__scopeId="data-v-70654796";export{m as default};
